{"links": {"self": {"href": "data/repositories/hoffmanlab/genomedata/issues/38/comments/36560940.json"}, "html": {"href": "#!/hoffmanlab/genomedata/issues/38#comment-36560940"}}, "issue": {"links": {"self": {"href": "data/repositories/hoffmanlab/genomedata/issues/38.json"}}, "type": "issue", "id": 38, "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/genomedata.json"}, "html": {"href": "#!/hoffmanlab/genomedata"}, "avatar": {"href": "data/bytebucket.org/ravatar/{78038659-1199-46ff-9d0a-675c62f89d60}ts=python"}}, "type": "repository", "name": "genomedata", "full_name": "hoffmanlab/genomedata", "uuid": "{78038659-1199-46ff-9d0a-675c62f89d60}"}, "title": "PyTables >= 3.4.1 causes a core dump when reading a continuous section from a supercontig"}, "content": {"raw": "The current python line that causes the illegal instruction is line 104 in genomedata/_close_data.py inside write_metadata:\n\n```\n#!python\n\n            col = continuous[:, col_index]\n```\n\ncontinuous is of type tables.earray.EArray \n\nIn the test case that breaks the table has the following properties:\n\n\n```\n#!python\n\n/supercontig_0/continuous (EArray(24950, 3), shuffle, zlib(1)) ''\n  atom := Float32Atom(shape=(), dflt=nan)\n  maindim := 1\n  flavor := 'numpy'\n  byteorder := 'little'\n  chunkshape := (10000, 1)\n```", "markup": "markdown", "html": "<p>The current python line that causes the illegal instruction is line 104 in genomedata/_close_data.py inside write_metadata:</p>\n<div class=\"codehilite language-python\"><pre><span></span>            <span class=\"n\">col</span> <span class=\"o\">=</span> <span class=\"n\">continuous</span><span class=\"p\">[:,</span> <span class=\"n\">col_index</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>continuous is of type tables.earray.EArray </p>\n<p>In the test case that breaks the table has the following properties:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"o\">/</span><span class=\"n\">supercontig_0</span><span class=\"o\">/</span><span class=\"n\">continuous</span> <span class=\"p\">(</span><span class=\"n\">EArray</span><span class=\"p\">(</span><span class=\"mi\">24950</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">shuffle</span><span class=\"p\">,</span> <span class=\"n\">zlib</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">))</span> <span class=\"s1\">&#39;&#39;</span>\n  <span class=\"n\">atom</span> <span class=\"p\">:</span><span class=\"o\">=</span> <span class=\"n\">Float32Atom</span><span class=\"p\">(</span><span class=\"n\">shape</span><span class=\"o\">=</span><span class=\"p\">(),</span> <span class=\"n\">dflt</span><span class=\"o\">=</span><span class=\"n\">nan</span><span class=\"p\">)</span>\n  <span class=\"n\">maindim</span> <span class=\"p\">:</span><span class=\"o\">=</span> <span class=\"mi\">1</span>\n  <span class=\"n\">flavor</span> <span class=\"p\">:</span><span class=\"o\">=</span> <span class=\"s1\">&#39;numpy&#39;</span>\n  <span class=\"n\">byteorder</span> <span class=\"p\">:</span><span class=\"o\">=</span> <span class=\"s1\">&#39;little&#39;</span>\n  <span class=\"n\">chunkshape</span> <span class=\"p\">:</span><span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">10000</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-05-04T13:25:13.299648+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2017-05-04T17:52:06.664902+00:00", "type": "issue_comment", "id": 36560940}