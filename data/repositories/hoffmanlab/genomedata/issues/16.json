{"priority": "trivial", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/genomedata.json"}, "html": {"href": "#!/hoffmanlab/genomedata"}, "avatar": {"href": "data/bytebucket.org/ravatar/{78038659-1199-46ff-9d0a-675c62f89d60}ts=python"}}, "type": "repository", "name": "genomedata", "full_name": "hoffmanlab/genomedata", "uuid": "{78038659-1199-46ff-9d0a-675c62f89d60}"}, "links": {"attachments": {"href": "data/repositories/hoffmanlab/genomedata/issues/16/attachments_page=1.json"}, "self": {"href": "data/repositories/hoffmanlab/genomedata/issues/16.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/genomedata/issues/16/watch"}, "comments": {"href": "data/repositories/hoffmanlab/genomedata/issues/16/comments_page=1.json"}, "html": {"href": "#!/hoffmanlab/genomedata/issues/16/shift-towards-python-3-to-the-extent"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/genomedata/issues/16/vote"}}, "reporter": {"display_name": "Michael Hoffman", "uuid": "{ffa8e039-5d4d-4f69-a4ba-ac25cbaf700b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D"}, "html": {"href": "https://bitbucket.org/%7Bffa8e039-5d4d-4f69-a4ba-ac25cbaf700b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/6a95e857a02504cbad5fe965c9d9e4bbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-1.png"}}, "nickname": "hoffman", "type": "user", "account_id": "557058:a9657985-692c-405c-995b-4e41cda7ba2b"}, "title": "Shift towards Python 3 to the extent possible on Python 2.7", "component": null, "votes": 0, "watches": 3, "content": {"raw": "First step towards an eventual Python 3 version. In particular:\r\n\r\n1. Require Python 2.7+\r\n2. Use ``__future__`` and ``future_builtins`` imports that get closer to Python 3 behavior in every file:\r\n```\r\nfrom __future__ import absolute_import, division, print_function\r\nfrom future_builtins import ascii, filter, hex, map, oct, zip\r\n```\r\n\r\nThen:\r\n\r\n3. Switch from `PKG` to `__package__` as it is available in Python 2.7+.\r\n4. Switch from `optparse` to `argparse` (since `optparse` is deprecated since 3.2.)\r\n\r\nThis should not, for the moment, involve using third-party libraries like `six`. Just whatever is possible without crazy compatibility gymnastics.", "markup": "markdown", "html": "<p>First step towards an eventual Python 3 version. In particular:</p>\n<ol>\n<li>Require Python 2.7+</li>\n<li>Use <code>__future__</code> and <code>future_builtins</code> imports that get closer to Python 3 behavior in every file:</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"kn\">import</span> <span class=\"n\">absolute_import</span><span class=\"p\">,</span> <span class=\"n\">division</span><span class=\"p\">,</span> <span class=\"n\">print_function</span>\n<span class=\"kn\">from</span> <span class=\"nn\">future_builtins</span> <span class=\"kn\">import</span> <span class=\"n\">ascii</span><span class=\"p\">,</span> <span class=\"nb\">filter</span><span class=\"p\">,</span> <span class=\"nb\">hex</span><span class=\"p\">,</span> <span class=\"nb\">map</span><span class=\"p\">,</span> <span class=\"nb\">oct</span><span class=\"p\">,</span> <span class=\"nb\">zip</span>\n</pre></div>\n\n\n<p>Then:</p>\n<ol>\n<li>Switch from <code>PKG</code> to <code>__package__</code> as it is available in Python 2.7+.</li>\n<li>Switch from <code>optparse</code> to <code>argparse</code> (since <code>optparse</code> is deprecated since 3.2.)</li>\n</ol>\n<p>This should not, for the moment, involve using third-party libraries like <code>six</code>. Just whatever is possible without crazy compatibility gymnastics.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-06-16T00:49:11.525670+00:00", "milestone": null, "updated_on": "2015-10-07T16:57:04.830548+00:00", "type": "issue", "id": 16}