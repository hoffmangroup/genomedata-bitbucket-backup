{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/genomedata.json"}, "html": {"href": "#!/hoffmanlab/genomedata"}, "avatar": {"href": "data/bytebucket.org/ravatar/{78038659-1199-46ff-9d0a-675c62f89d60}ts=python"}}, "type": "repository", "name": "genomedata", "full_name": "hoffmanlab/genomedata", "uuid": "{78038659-1199-46ff-9d0a-675c62f89d60}"}, "links": {"attachments": {"href": "data/repositories/hoffmanlab/genomedata/issues/22/attachments_page=1.json"}, "self": {"href": "data/repositories/hoffmanlab/genomedata/issues/22.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/genomedata/issues/22/watch"}, "comments": {"href": "data/repositories/hoffmanlab/genomedata/issues/22/comments_page=1.json"}, "html": {"href": "#!/hoffmanlab/genomedata/issues/22/empty-archives-when-created-from-an"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/genomedata/issues/22/vote"}}, "reporter": {"display_name": "Micka\u00ebl Mendez", "uuid": "{3e035b9e-0328-44e8-8622-5c7e9ed060b2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3e035b9e-0328-44e8-8622-5c7e9ed060b2%7D"}, "html": {"href": "https://bitbucket.org/%7B3e035b9e-0328-44e8-8622-5c7e9ed060b2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1cb7d89dcab61313d21c5ef402c28e11d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMM-0.png"}}, "nickname": "Mickael Mendez", "type": "user", "account_id": "557058:aae10d90-ba66-49cd-a04d-5392b943760d"}, "title": "Empty archives when created from an assembly", "component": null, "votes": 0, "watches": 2, "content": {"raw": "Creating an archive from an assembly results in an almost empty archive.\r\n\r\nI tried with the `genomedata-load` and the four steps commands but the archives are always the same size of 65M.\r\n\r\ncommand used:\r\n```\r\ngenomedata-load -s ./concatenated_agp_file.agp -t my_track=my_signal_file.bg --assembly my_archive\r\n```\r\n\r\nThe genomedata exists but it seems that the assembly file could not be parsed properly and the open_chromosome field contains the name of the assembly file instead of the chromosome names:\r\n\r\n```\r\n>>> print g.open_chromosomes\r\n{'concatenated_agp_file': <Chromosome 'concatenated_agp_file', file='genomedata/my_archive/concatenated_agp_file.genomedata'>}\r\n```\r\n\r\nNote: the assembly file (attached) was generated by concatenating the reference  agp files from the [ncbi ftp](ftp://ftp.ncbi.nlm.nih.gov/genomes/H_sapiens/ARCHIVE/BUILD.37.3/Assembled_chromosomes/agp/), after filtering out the comment lines starting with the character '#'", "markup": "markdown", "html": "<p>Creating an archive from an assembly results in an almost empty archive.</p>\n<p>I tried with the <code>genomedata-load</code> and the four steps commands but the archives are always the same size of 65M.</p>\n<p>command used:</p>\n<div class=\"codehilite\"><pre><span></span>genomedata-load -s ./concatenated_agp_file.agp -t my_track=my_signal_file.bg --assembly my_archive\n</pre></div>\n\n\n<p>The genomedata exists but it seems that the assembly file could not be parsed properly and the open_chromosome field contains the name of the assembly file instead of the chromosome names:</p>\n<div class=\"codehilite\"><pre><span></span>&gt;&gt;&gt; print g.open_chromosomes\n{&#39;concatenated_agp_file&#39;: &lt;Chromosome &#39;concatenated_agp_file&#39;, file=&#39;genomedata/my_archive/concatenated_agp_file.genomedata&#39;&gt;}\n</pre></div>\n\n\n<p>Note: the assembly file (attached) was generated by concatenating the reference  agp files from the <a data-is-external-link=\"true\" href=\"ftp://ftp.ncbi.nlm.nih.gov/genomes/H_sapiens/ARCHIVE/BUILD.37.3/Assembled_chromosomes/agp/\" rel=\"nofollow\">ncbi ftp</a>, after filtering out the comment lines starting with the character '#'</p>", "type": "rendered"}, "assignee": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2016-05-09T20:38:33.705456+00:00", "milestone": null, "updated_on": "2019-03-19T16:16:15.299720+00:00", "type": "issue", "id": 22}