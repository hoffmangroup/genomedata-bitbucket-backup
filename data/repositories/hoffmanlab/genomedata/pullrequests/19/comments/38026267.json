{"links": {"self": {"href": "data/repositories/hoffmanlab/genomedata/pullrequests/19/comments/38026267.json"}, "html": {"href": "#!/hoffmanlab/genomedata/pull-requests/19/_/diff#comment-38026267"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/hoffmanlab/genomedata/pullrequests/19.json"}, "html": {"href": "#!/hoffmanlab/genomedata/pull-requests/19"}}, "title": "Add feature to write data to archives"}, "content": {"raw": "So after much discussion there's a real consideration for including PyBedtools in the future but not for this particular pull request.\n\nRegarding performance:\n\n1. Using this method for writing should not be the primary method of writing. This is meant for small changes instead of having reload or recreate an archive. If you're loading in a large amount of data - load_data is the preferred method\n\n2. When this method is used for writes, the amount of supercontigs under consideration is practically around 10 or so at max per write on a chromosome and in almost all cases should be much much smaller and realistically about 1. No algorithm is going to make this code significantly faster.\n\nRegarding simplicity:\n\n1. In general, adding dependencies for smaller features isn't the greatest idea especially since dealing with upstream changes can be frustrating in the long term. Granted, with Pybedtools this may not be as big of an issue but it does also require bedtools to be installed as well.\n\n2. It would almost certainly make the code simpler and easier to maintain but for now the amount of code is still somewhat small in scope.\n\nWith all these points in mind it's still in the realm of possibility of using Pybedtools and introducing it as a dependency in the future. This is especially true when it comes to future features (like filtering out data) where it makes code significantly easier, cleaner and faster. If that happens then this code may be revisited for improving readability (and maybe performance).\n", "markup": "markdown", "html": "<p>So after much discussion there's a real consideration for including PyBedtools in the future but not for this particular pull request.</p>\n<p>Regarding performance:</p>\n<ol>\n<li>\n<p>Using this method for writing should not be the primary method of writing. This is meant for small changes instead of having reload or recreate an archive. If you're loading in a large amount of data - load_data is the preferred method</p>\n</li>\n<li>\n<p>When this method is used for writes, the amount of supercontigs under consideration is practically around 10 or so at max per write on a chromosome and in almost all cases should be much much smaller and realistically about 1. No algorithm is going to make this code significantly faster.</p>\n</li>\n</ol>\n<p>Regarding simplicity:</p>\n<ol>\n<li>\n<p>In general, adding dependencies for smaller features isn't the greatest idea especially since dealing with upstream changes can be frustrating in the long term. Granted, with Pybedtools this may not be as big of an issue but it does also require bedtools to be installed as well.</p>\n</li>\n<li>\n<p>It would almost certainly make the code simpler and easier to maintain but for now the amount of code is still somewhat small in scope.</p>\n</li>\n</ol>\n<p>With all these points in mind it's still in the realm of possibility of using Pybedtools and introducing it as a dependency in the future. This is especially true when it comes to future features (like filtering out data) where it makes code significantly easier, cleaner and faster. If that happens then this code may be revisited for improving readability (and maybe performance).</p>", "type": "rendered"}, "created_on": "2017-06-01T15:29:00.825389+00:00", "user": {"display_name": "Eric Roberts", "uuid": "{cd8c1fe0-28ca-45fb-8ef9-48090b42bb80}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D"}, "html": {"href": "https://bitbucket.org/%7Bcd8c1fe0-28ca-45fb-8ef9-48090b42bb80%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/17548d71dfb29d015b880f48cfc01ca3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsER-5.png"}}, "nickname": "ericr86", "type": "user", "account_id": "557058:c80ca578-03a1-4ac6-b3ee-50372a3fceee"}, "updated_on": "2017-06-01T15:29:20.504059+00:00", "type": "pullrequest_comment", "id": 38026267}