{"links": {"self": {"href": "data/repositories/hoffmanlab/genomedata/pullrequests/22/comments/41183474.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/genomedata/diff/rcwchan/genomedata2:59940b24bc15..7f266732db1f?path=genomedata%2F_report.py"}, "html": {"href": "#!/hoffmanlab/genomedata/pull-requests/22/_/diff#comment-41183474"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/hoffmanlab/genomedata/pullrequests/22.json"}, "html": {"href": "#!/hoffmanlab/genomedata/pull-requests/22"}}, "title": "Replace textinput"}, "content": {"raw": "From ` tabdelim`:\n\n\n```\n#!python\n\n128 class ListWriter(Surrogate):\n129     def __init__(self, csvfile=sys.stdout, dialect=\"unix-tab\",\n130                  *args, **kwargs):\n131         data = csv.writer(csvfile, dialect, *args, **kwargs)\n132         Surrogate.__init__(self, data)\n\n 18 class Surrogate(object):\n 19     \"\"\"\n 20     the data is stored in _data\n 21 \n 22     >>> list1 = [0, 1, 2, 3]\n 23     >>> list2 = [4, 5, 6, 7]\n 24     >>> surrogate = Surrogate(list1)\n 25     >>> surrogate.reverse()\n 26     >>> list1\n 27     [3, 2, 1, 0]\n 28     >>> surrogate._data = list2\n 29     >>> surrogate.append(8)\n 30     >>> list2\n 31     [4, 5, 6, 7, 8]\n 32     \"\"\"\n 33     def __init__(self, data):\n 34         self._data = data\n 35 \n 36     def __getattr__(self, name):\n 37         if name == \"_data\":\n 38             raise SurrogateNotInitedError, name                                                                                                                                                                \n 39         else:\n 40             try:\n 41                 return getattr(self._data, name)\n 42             except SurrogateNotInitedError:\n 43                 raise SurrogateNotInitedError, name\n\n```", "markup": "markdown", "html": "<p>From <code>tabdelim</code>:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"mi\">128</span> <span class=\"k\">class</span> <span class=\"nc\">ListWriter</span><span class=\"p\">(</span><span class=\"n\">Surrogate</span><span class=\"p\">):</span>\n<span class=\"mi\">129</span>     <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">csvfile</span><span class=\"o\">=</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdout</span><span class=\"p\">,</span> <span class=\"n\">dialect</span><span class=\"o\">=</span><span class=\"s2\">&quot;unix-tab&quot;</span><span class=\"p\">,</span>\n<span class=\"mi\">130</span>                  <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n<span class=\"mi\">131</span>         <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">csv</span><span class=\"o\">.</span><span class=\"n\">writer</span><span class=\"p\">(</span><span class=\"n\">csvfile</span><span class=\"p\">,</span> <span class=\"n\">dialect</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n<span class=\"mi\">132</span>         <span class=\"n\">Surrogate</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">)</span>\n\n <span class=\"mi\">18</span> <span class=\"k\">class</span> <span class=\"nc\">Surrogate</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n <span class=\"mi\">19</span>     <span class=\"s2\">&quot;&quot;&quot;</span>\n<span class=\"s2\"> 20     the data is stored in _data</span>\n<span class=\"s2\"> 21 </span>\n<span class=\"s2\"> 22     &gt;&gt;&gt; list1 = [0, 1, 2, 3]</span>\n<span class=\"s2\"> 23     &gt;&gt;&gt; list2 = [4, 5, 6, 7]</span>\n<span class=\"s2\"> 24     &gt;&gt;&gt; surrogate = Surrogate(list1)</span>\n<span class=\"s2\"> 25     &gt;&gt;&gt; surrogate.reverse()</span>\n<span class=\"s2\"> 26     &gt;&gt;&gt; list1</span>\n<span class=\"s2\"> 27     [3, 2, 1, 0]</span>\n<span class=\"s2\"> 28     &gt;&gt;&gt; surrogate._data = list2</span>\n<span class=\"s2\"> 29     &gt;&gt;&gt; surrogate.append(8)</span>\n<span class=\"s2\"> 30     &gt;&gt;&gt; list2</span>\n<span class=\"s2\"> 31     [4, 5, 6, 7, 8]</span>\n<span class=\"s2\"> 32     &quot;&quot;&quot;</span>\n <span class=\"mi\">33</span>     <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">):</span>\n <span class=\"mi\">34</span>         <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_data</span> <span class=\"o\">=</span> <span class=\"n\">data</span>\n <span class=\"mi\">35</span> \n <span class=\"mi\">36</span>     <span class=\"k\">def</span> <span class=\"fm\">__getattr__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n <span class=\"mi\">37</span>         <span class=\"k\">if</span> <span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;_data&quot;</span><span class=\"p\">:</span>\n <span class=\"mi\">38</span>             <span class=\"k\">raise</span> <span class=\"n\">SurrogateNotInitedError</span><span class=\"p\">,</span> <span class=\"n\">name</span>                                                                                                                                                                \n <span class=\"mi\">39</span>         <span class=\"k\">else</span><span class=\"p\">:</span>\n <span class=\"mi\">40</span>             <span class=\"k\">try</span><span class=\"p\">:</span>\n <span class=\"mi\">41</span>                 <span class=\"k\">return</span> <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_data</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)</span>\n <span class=\"mi\">42</span>             <span class=\"k\">except</span> <span class=\"n\">SurrogateNotInitedError</span><span class=\"p\">:</span>\n <span class=\"mi\">43</span>                 <span class=\"k\">raise</span> <span class=\"n\">SurrogateNotInitedError</span><span class=\"p\">,</span> <span class=\"n\">name</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-07-20T15:47:58.248859+00:00", "user": {"display_name": "Rachel Chan", "uuid": "{20430f8d-4e6b-48cc-a8d8-c64868bf7e79}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D"}, "html": {"href": "https://bitbucket.org/%7B20430f8d-4e6b-48cc-a8d8-c64868bf7e79%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4397abec9f84e35f1f235b350984833dd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsRC-1.png"}}, "nickname": "rcwchan", "type": "user", "account_id": "557058:e439e22e-8cfc-4cf1-b090-030d33a0730e"}, "inline": {"to": null, "from": 20, "outdated": true, "path": "genomedata/_report.py"}, "updated_on": "2017-07-20T15:47:58.253240+00:00", "type": "pullrequest_comment", "id": 41183474}